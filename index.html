<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>√çndice ‚Äî CRYPTEX</title>
  <meta name="description" content="√çndice en forma de carpeta, dise√±o profesional y responsivo para GitHub Pages" />
  <style>
    :root{
      --bg:#0f1724;--card:#0b1220;--muted:#9aa4b2;--accent:#6ee7b7;--glass: rgba(255,255,255,0.03);
      --radius:14px; --glass-2: rgba(255,255,255,0.02);
      --gap:18px; --shadow: 0 6px 24px rgba(2,6,23,0.6);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071022 0%, #041328 100%);color:#e6eef6}
    .wrap{max-width:1200px;margin:36px auto;padding:28px;border-radius:20px;background:linear-gradient(180deg,rgba(255,255,255,0.02), transparent);box-shadow:var(--shadow);backdrop-filter: blur(6px)}
    header{display:flex;align-items:center;gap:16px}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#3b82f6);display:flex;align-items:center;justify-content:center;font-weight:700;color:#042;box-shadow:0 6px 20px rgba(51,163,126,0.12)}
    h1{margin:0;font-size:20px}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    .controls{display:flex;gap:12px;margin-left:auto;align-items:center}
    .search{display:flex;align-items:center;background:var(--glass);padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
    .search input{background:transparent;border:0;color:inherit;outline:none;width:240px}

    .grid{display:grid;grid-template-columns:270px 1fr;gap:var(--gap);margin-top:22px}
    nav.sidebar{background:var(--card);padding:16px;border-radius:12px;min-height:360px}
    .folders-list{display:flex;flex-direction:column;gap:8px;margin-top:8px}
    .folder{display:flex;align-items:center;gap:10px;padding:8px;border-radius:10px;cursor:pointer}
    .folder:hover{background:var(--glass-2)}
    .folder .ico{width:36px;height:36px;border-radius:8px;background:linear-gradient(180deg,#15324a,#0c2740);display:flex;align-items:center;justify-content:center}
    .meta{font-size:13px;color:var(--muted)}

    main.content{background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);padding:18px;border-radius:12px}
    .breadcrumb{display:flex;gap:8px;align-items:center;color:var(--muted);font-size:13px}
    .actions{display:flex;gap:10px;margin-top:12px}
    .btn{padding:8px 12px;border-radius:10px;background:linear-gradient(90deg,#0b1320, #071025);border:1px solid rgba(255,255,255,0.03);cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,var(--accent),#60a5fa);color:#032}

    .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:14px;margin-top:18px}
    .card{background:var(--glass);padding:14px;border-radius:12px;min-height:110px;display:flex;flex-direction:column;justify-content:space-between;border:1px solid rgba(255,255,255,0.02)}
    .card .title{font-weight:600}
    .card .small{font-size:12px;color:var(--muted)}

    .detail{margin-top:18px;background:var(--card);padding:14px;border-radius:10px}
    .file-list{display:flex;flex-direction:column;gap:8px}
    .file{display:flex;align-items:center;justify-content:space-between;padding:8px;border-radius:8px}

    footer{margin-top:18px;color:var(--muted);font-size:13px}

    /* responsive */
    @media (max-width:820px){.grid{grid-template-columns:1fr;}.search input{width:150px}}

    /* subtle animations */
    .card, .folder{transition:transform .18s ease, box-shadow .18s ease}
    .card:hover, .folder:hover{transform:translateY(-6px)}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">GYP</div>
      <div>
        <h1>CRYPTEX ‚Äî √çndice</h1>
        <p class="lead">Navega tu proyecto como si fuera una carpeta. Dise√±ado para GitHub Pages.</p>
      </div>

      <div class="controls">
        <div class="search" role="search">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <input id="q" placeholder="Buscar archivos o carpetas..." />
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <button class="btn" id="toggleView">Vista en lista</button>
          <button class="btn primary" id="newFolder">Nueva carpeta</button>
        </div>
      </div>
    </header>

    <div class="grid">
      <nav class="sidebar" aria-label="Carpetas">
        <strong>Carpetas</strong>
        <div class="folders-list" id="folders"></div>
        <div style="margin-top:12px;border-top:1px solid rgba(255,255,255,0.02);padding-top:12px;color:var(--muted);font-size:13px">
          Tama√±o del repositorio <br/><strong id="size">--</strong>
        </div>
      </nav>

      <main class="content">
        <div class="breadcrumb" id="breadcrumb">/ <span class="muted">root</span></div>
        <div class="actions">
          <div class="meta">Mostrando <span id="count">0</span> elementos</div>
        </div>

        <section class="cards" id="cards" aria-live="polite"></section>

        <section class="detail" id="detail">
          <strong>Detalles</strong>
          <div class="file-list" id="fileList" style="margin-top:8px"></div>
        </section>

        <footer>Dise√±o profesional ‚Äî adapta este index a tu repo. Copia este archivo a la ra√≠z (index.html)</footer>
      </main>
    </div>
  </div>

  <script>
    // Estructura de ejemplo. Cambia/inyecta la estructura real del repo si lo deseas.
    const tree = {
      name: 'root',
      items: [
        {type:'folder',name:'docs',size:'1.2MB',items:[
          {type:'file',name:'guide.pdf',size:'420KB'},
          {type:'file',name:'intro.md',size:'4KB'},
        ]},
        {type:'folder',name:'assets',size:'3.4MB',items:[
          {type:'file',name:'logo.png',size:'12KB'},
          {type:'file',name:'bg.jpg',size:'1.6MB'},
        ]},
        {type:'file',name:'README.md',size:'2KB'},
        {type:'file',name:'index.html',size:'5KB'},
        {type:'folder',name:'build',size:'8.7MB',items:[]}
      ]
    }

    let current = tree;
    const foldersEl = document.getElementById('folders');
    const cardsEl = document.getElementById('cards');
    const breadcrumbEl = document.getElementById('breadcrumb');
    const fileListEl = document.getElementById('fileList');
    const countEl = document.getElementById('count');
    const sizeEl = document.getElementById('size');

    function formatSize(s){return s}

    function renderSidebar(t){
      foldersEl.innerHTML='';
      (t.items.filter(i=>i.type==='folder')).forEach(f=>{
        const el = document.createElement('div'); el.className='folder'; el.tabIndex=0;
        el.innerHTML = `
          <div class="ico">üìÅ</div>
          <div>
            <div style="font-weight:600">${f.name}</div>
            <div class="meta">${f.size} ‚Ä¢ ${f.items.length} items</div>
          </div>`
        el.addEventListener('click',()=>openFolder(f))
        foldersEl.appendChild(el)
      })
    }

    function renderCards(t){
      cardsEl.innerHTML='';
      const arr = t.items || [];
      countEl.textContent = arr.length;
      arr.forEach(it=>{
        const card = document.createElement('div'); card.className='card';
        card.innerHTML = `
          <div>
            <div style="display:flex;align-items:center;gap:10px">
              <div style="font-size:28px">${it.type==='folder'?'üìÅ':'üìÑ'}</div>
              <div>
                <div class="title">${it.name}</div>
                <div class="small">${it.size || ''}</div>
              </div>
            </div>
          </div>
          <div style="display:flex;gap:8px;align-items:center">
            <button class="btn" onclick="viewItem('${it.name.replace(/'/g,'\'')}')">Abrir</button>
            <button class="btn" onclick="downloadItem('${it.name.replace(/'/g,'\'')}')">Descargar</button>
          </div>`
        cardsEl.appendChild(card)
      })

      // Tama√±o estimado (ejemplo simple)
      sizeEl.textContent = arr.reduce((acc,i)=>acc + (parseFloat((i.size||'0').replace('MB','').replace('KB',''))||0),0).toFixed(2)+' MB (estimado)'
    }

    function renderDetail(t){
      fileListEl.innerHTML='';
      (t.items||[]).forEach(it=>{
        const el = document.createElement('div'); el.className='file';
        el.innerHTML = `
          <div style="display:flex;gap:12px;align-items:center"><div>${it.type==='folder'?'üìÅ':'üìÑ'}</div><div>${it.name}</div></div>
          <div class="small">${it.size || ''}</div>`
        fileListEl.appendChild(el);
      })
    }

    function openFolder(f){
      // Si el elemento es un objeto (clonado desde tree), buscamos su referencia dentro del √°rbol original
      current = f;
      breadcrumbEl.innerHTML = '/ <strong>'+f.name+'</strong>'
      renderCards(f);
      renderDetail(f);
    }

    window.viewItem = function(name){
      alert('Abrir: '+name+' (en GitHub Pages enlaza al archivo real)')
    }
    window.downloadItem = function(name){
      alert('Descargar: '+name+' (en GitHub Pages este bot√≥n deber√≠a enlazar al archivo raw)')
    }

    // Inicializa
    renderSidebar(tree);
    renderCards(tree);
    renderDetail(tree);

    // B√∫squeda simple
    document.getElementById('q').addEventListener('input',e=>{
      const q = e.target.value.toLowerCase();
      const filtered = tree.items.filter(i=>i.name.toLowerCase().includes(q));
      renderCards({items:filtered});
      document.getElementById('count').textContent = filtered.length;
    })

    // Crear carpeta (demo, no persistente)
    document.getElementById('newFolder').addEventListener('click',()=>{
      const name = prompt('Nombre de la nueva carpeta');
      if(!name) return;
      const node = {type:'folder',name, size:'0KB', items:[]};
      tree.items.push(node);
      renderSidebar(tree);
      renderCards(tree);
      alert('Carpeta creada en memoria. Para que aparezca en GitHub, crea la carpeta en tu repo y sube archivos.');
    })

    // Toggle view (demo)
    document.getElementById('toggleView').addEventListener('click',()=>{
      const t = document.getElementById('cards');
      t.style.gridTemplateColumns = t.style.gridTemplateColumns ? '' : 'repeat(auto-fill,minmax(260px,1fr))';
    })
  </script>
</body>
</html>
